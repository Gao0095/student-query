<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>情報検索</title>
<style>
body{font-family:Arial;margin:10px;padding:0;background:#f8f8f8}
.container{max-width:400px;margin:0 auto;background:#fff;padding:15px;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,0.1);display:flex;flex-direction:column;gap:8px}
h2{text-align:center;color:#333;margin-bottom:10px}
input,button{width:100%;box-sizing:border-box;font-size:16px;padding:10px;border-radius:6px;border:1px solid #ccc}
button{background:#007bff;color:#fff;border:none;cursor:pointer}
button:hover{background:#0056b3}
#result{margin-top:15px;font-size:18px;color:#555;white-space:pre-line}
</style>
</head>
<body>
<div class="container">
<h2>情報検索</h2>
<input type="text" id="studentId" placeholder="受験番号を入力してください">
<button onclick="searchStudent()">検索</button>
<div id="result"></div>
</div>

<script>
// 这里示例用小数据，实际可以用压缩 JSON 或 IndexedDB
// 建议把 5000 条数据做成 {id: {name,score}} 对象，提高查询速度
let studentMap = {};

// 按需加载 JSON
async function loadData(){
    try{
        const res = await fetch('students.json'); // students.json 文件大小压缩过
        const arr = await res.json();
        arr.forEach(s=>studentMap[s.id]=s); // 转为 Map 对象，查询 O(1)
        console.log('数据加载完成', arr.length);
    }catch(e){
        console.error('加载 JSON 失败', e);
        document.getElementById('result').innerText='Try again';
    }
}

function searchStudent(){
    const id = document.getElementById('studentId').value.trim();
    if(!id) return document.getElementById('result').innerText='受験番号を入力してください';
    const student = studentMap[id];
    if(student) document.getElementById('result').innerText=`名前：${student.name}\n性別：${student.gender}\n国籍：${student.nation}\n教室：${student.Room}`;
    else document.getElementById('result').innerText='該当情報ありません';
}

// 页面加载时初始化数据
loadData();
</script>
</body>
</html>
